# 多数据源价格获取方案

## 当前问题
AkShare 无法获取部分股票的价格（如中国重工 601989）

## 备选数据源

### 1. Wind API (万得)
- **优点**: 国内金融数据最全面，A股数据质量高
- **缺点**: 需要授权和付费
- **使用条件**: 需要 Wind 终端账号

### 2. Tushare
- **优点**: 免费（有积分限制），A股数据较全
- **缺点**: 需要注册获取 token，部分数据需要积分
- **使用条件**: 注册账号，获取 API token

### 3. Bloomberg API
- **优点**: 全球金融数据最权威
- **缺点**: 非常昂贵，主要面向机构
- **使用条件**: Bloomberg 终端订阅

### 4. Refinitiv Workspace (原 Thomson Reuters)
- **优点**: 全球金融数据全面
- **缺点**: 昂贵，主要面向机构
- **使用条件**: Workspace 订阅

### 5. Yahoo Finance / Alpha Vantage
- **优点**: 免费或低成本
- **缺点**: A股数据可能不完整或有延迟
- **使用条件**: 免费注册

## 推荐方案

### 优先级 1: Tushare (免费)
- 注册简单，免费使用
- A股数据较全
- 可以补充 AkShare 缺失的数据

### 优先级 2: Wind API (如有授权)
- 数据最全面准确
- 适合专业投资分析

### 优先级 3: 手动输入价格
- 对于无法获取的少量股票
- 用户可以手动输入收盘价

## 实施步骤

### Step 1: 集成 Tushare 作为备选
- 注册 Tushare 账号
- 添加 Tushare API 调用
- 当 AkShare 失败时，尝试 Tushare

### Step 2: 添加 Wind API 支持
- 检测 Wind 是否可用
- 添加 Wind API 调用
- 作为最高优先级数据源

### Step 3: 添加手动输入功能
- 在价格获取失败时，提示用户手动输入
- 保存手动输入的价格到数据库

## 需要用户提供的信息

1. 是否有 Wind 终端授权？
2. 是否愿意注册 Tushare 账号？
3. 对于无法获取价格的股票，是否接受手动输入？
